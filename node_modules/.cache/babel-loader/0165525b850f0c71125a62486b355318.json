{"ast":null,"code":"import axios from 'axios';\nimport localForage from \"localforage\";\nconst CACHE_PREFIX = \"pokeapi-js-wrapper-\";\n\nfunction loadResource(config, url) {\n  return new Promise((resolve, reject) => {\n    localForage.ready().then(() => {\n      localForage.getItem(`${CACHE_PREFIX}${url}`).then(value => {\n        if (value === null) {\n          loadUrl(config, url).then(res => {\n            resolve(res);\n          }).catch(err => {\n            reject(err);\n          });\n        } else {\n          resolve(addCacheMark(value));\n        }\n      }).catch(err => {\n        loadUrl(config, url).then(res => {\n          resolve(res);\n        }).catch(err => {\n          reject(err);\n        });\n      });\n    }).catch(err => {\n      loadUrl(config, url).then(res => {\n        resolve(res);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n  });\n}\n\nfunction loadUrl(config, url) {\n  return new Promise((resolve, reject) => {\n    let options = {\n      baseURL: `${config.protocol}://${config.hostName}/`,\n      timeout: config.timeout\n    };\n    axios.get(url, options).then(response => {\n      // if there was an error\n      if (response.status >= 400) {\n        reject(response);\n      } else {\n        // if everything was good\n        // cache the object in browser memory\n        // only if cache is true\n        if (config.cache) {\n          localForage.setItem(`${CACHE_PREFIX}${url}`, response.data);\n        }\n\n        resolve(response.data);\n      }\n    }).catch(err => {\n      reject(err);\n    });\n  });\n}\n\nexport { loadResource };","map":{"version":3,"names":["axios","localForage","CACHE_PREFIX","loadResource","config","url","Promise","resolve","reject","ready","then","getItem","value","loadUrl","res","catch","err","addCacheMark","options","baseURL","protocol","hostName","timeout","get","response","status","cache","setItem","data"],"sources":["/home/tippy/Documents/AccessPoint/week-8-final/tippy-is601Final/node_modules/pokeapi-js-wrapper/src/getter.js"],"sourcesContent":["import axios from 'axios'\nimport localForage from \"localforage\"\n\nconst CACHE_PREFIX = \"pokeapi-js-wrapper-\"\n\nfunction loadResource(config, url) {\n    return new Promise((resolve, reject) => {\n        localForage.ready()\n            .then(() => {\n                localForage.getItem(`${CACHE_PREFIX}${url}`)\n                    .then(value => {\n                        if (value === null) {\n                            loadUrl(config, url).then(res => {resolve(res)})\n                                .catch(err => {reject(err)})\n                        } else {\n                            resolve(addCacheMark(value))\n                        }\n                    })\n                    .catch(err => {\n                        loadUrl(config, url).then(res => {resolve(res)})\n                            .catch(err => {reject(err)})\n                    })\n            })\n            .catch(err => {\n                loadUrl(config, url).then(res => {resolve(res)})\n                    .catch(err => {reject(err)})\n            })\n    })\n}\n\nfunction loadUrl(config, url) {\n    return new Promise((resolve, reject) => {\n        let options = {\n            baseURL: `${config.protocol}://${config.hostName}/`,\n            timeout: config.timeout\n        }\n        axios.get(url, options)\n            .then(response => {\n                // if there was an error\n                if (response.status >= 400) {\n                    reject(response)\n                } else {\n                    // if everything was good\n                    // cache the object in browser memory\n                    // only if cache is true\n                    if (config.cache) {\n                        localForage.setItem(`${CACHE_PREFIX}${url}`, response.data)\n                    }\n                    resolve(response.data)\n                }  \n            })\n            .catch(err => { reject(err) }) \n    })\n}\n\nexport { loadResource }\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,aAAxB;AAEA,MAAMC,YAAY,GAAG,qBAArB;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,GAA9B,EAAmC;EAC/B,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACpCP,WAAW,CAACQ,KAAZ,GACKC,IADL,CACU,MAAM;MACRT,WAAW,CAACU,OAAZ,CAAqB,GAAET,YAAa,GAAEG,GAAI,EAA1C,EACKK,IADL,CACUE,KAAK,IAAI;QACX,IAAIA,KAAK,KAAK,IAAd,EAAoB;UAChBC,OAAO,CAACT,MAAD,EAASC,GAAT,CAAP,CAAqBK,IAArB,CAA0BI,GAAG,IAAI;YAACP,OAAO,CAACO,GAAD,CAAP;UAAa,CAA/C,EACKC,KADL,CACWC,GAAG,IAAI;YAACR,MAAM,CAACQ,GAAD,CAAN;UAAY,CAD/B;QAEH,CAHD,MAGO;UACHT,OAAO,CAACU,YAAY,CAACL,KAAD,CAAb,CAAP;QACH;MACJ,CARL,EASKG,KATL,CASWC,GAAG,IAAI;QACVH,OAAO,CAACT,MAAD,EAASC,GAAT,CAAP,CAAqBK,IAArB,CAA0BI,GAAG,IAAI;UAACP,OAAO,CAACO,GAAD,CAAP;QAAa,CAA/C,EACKC,KADL,CACWC,GAAG,IAAI;UAACR,MAAM,CAACQ,GAAD,CAAN;QAAY,CAD/B;MAEH,CAZL;IAaH,CAfL,EAgBKD,KAhBL,CAgBWC,GAAG,IAAI;MACVH,OAAO,CAACT,MAAD,EAASC,GAAT,CAAP,CAAqBK,IAArB,CAA0BI,GAAG,IAAI;QAACP,OAAO,CAACO,GAAD,CAAP;MAAa,CAA/C,EACKC,KADL,CACWC,GAAG,IAAI;QAACR,MAAM,CAACQ,GAAD,CAAN;MAAY,CAD/B;IAEH,CAnBL;EAoBH,CArBM,CAAP;AAsBH;;AAED,SAASH,OAAT,CAAiBT,MAAjB,EAAyBC,GAAzB,EAA8B;EAC1B,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACpC,IAAIU,OAAO,GAAG;MACVC,OAAO,EAAG,GAAEf,MAAM,CAACgB,QAAS,MAAKhB,MAAM,CAACiB,QAAS,GADvC;MAEVC,OAAO,EAAElB,MAAM,CAACkB;IAFN,CAAd;IAIAtB,KAAK,CAACuB,GAAN,CAAUlB,GAAV,EAAea,OAAf,EACKR,IADL,CACUc,QAAQ,IAAI;MACd;MACA,IAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;QACxBjB,MAAM,CAACgB,QAAD,CAAN;MACH,CAFD,MAEO;QACH;QACA;QACA;QACA,IAAIpB,MAAM,CAACsB,KAAX,EAAkB;UACdzB,WAAW,CAAC0B,OAAZ,CAAqB,GAAEzB,YAAa,GAAEG,GAAI,EAA1C,EAA6CmB,QAAQ,CAACI,IAAtD;QACH;;QACDrB,OAAO,CAACiB,QAAQ,CAACI,IAAV,CAAP;MACH;IACJ,CAdL,EAeKb,KAfL,CAeWC,GAAG,IAAI;MAAER,MAAM,CAACQ,GAAD,CAAN;IAAa,CAfjC;EAgBH,CArBM,CAAP;AAsBH;;AAED,SAASb,YAAT"},"metadata":{},"sourceType":"module"}